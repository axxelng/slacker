<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>ä¸Šç­æ‘¸é­šè¨ˆç®—æ©Ÿ ğŸŸğŸ±</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive;
      background: #f0f8ff url('https://media.istockphoto.com/id/1045561036/zh/%E5%90%91%E9%87%8F/%E5%8F%AF%E6%84%9B%E7%9A%84%E9%AD%9A%E7%9A%84%E6%80%A7%E6%A0%BC%E5%8D%A1%E9%80%9A%E5%90%91%E9%87%8F%E6%8F%92%E7%95%AB.jpg?s=612x612&w=0&k=20&c=EOvVG_QqBts9x50ZWWprtAfFw0vpPCtzh-XxgCCFAX8=') repeat-x bottom;
      background-size: contain;
      text-align: center;
      padding: 30px;
    }
    h1 {
      font-size: 2.5em;
      color: #333;
      margin-bottom: 10px;
    }
    input, button {
      padding: 10px 15px;
      margin: 10px;
      font-size: 1.2em;
      border-radius: 10px;
      border: 1px solid #ccc;
    }
    #status {
      font-size: 1.5em;
      margin-top: 20px;
      color: #e91e63;
    }
    #cat-img {
      width: 150px;
      margin-top: 30px;
      animation: float 3s ease-in-out infinite;
    }
    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }
    footer {
      margin-top: 40px;
      font-size: 1em;
      color: #777;
    }
  </style>
</head>
<body>
  <h1>ä¸Šç­æ‘¸é­šè¨ˆç®—æ©Ÿ ğŸŸğŸ±</h1>

  <label for="wage">è«‹è¼¸å…¥ä½ çš„æ™‚è–ªï¼ˆå…ƒ/å°æ™‚ï¼‰ï¼š</label><br/>
  <input type="number" id="wage" placeholder="ä¾‹å¦‚ï¼š200" /><br/>

  <button onclick="startFishing()">é–‹å§‹æ‘¸é­š</button>
  <button onclick="stopFishing()">çµæŸæ‘¸é­š</button>

  <div id="status">ä½ ç›®å‰é‚„æ²’é–‹å§‹æ‘¸é­šå–”ï½</div>

  <img id="cat-img" src="https://guavanthropology.tw/sites/guavanthropology/files/content/f2/f/mg2.gif" alt="å¯æ„›è²“å’ª" />

  <footer id="footer"></footer>

  <script>
    let startTime = null;
    let totalSeconds = localStorage.getItem('fishSeconds') ? parseInt(localStorage.getItem('fishSeconds')) : 0;

    function startFishing() {
      if (!document.getElementById('wage').value) {
        alert("è«‹å…ˆè¼¸å…¥æ™‚è–ªï¼");
        return;
      }
      if (startTime) {
        alert("ä½ å·²ç¶“åœ¨æ‘¸é­šä¸­å•¦ï¼");
        return;
      }
      startTime = new Date();
      document.getElementById('status').innerText = "æ­£åœ¨æ‘¸é­šä¸­...ğŸŸ";
    }

    function stopFishing() {
      if (!startTime) {
        alert("é‚„æ²’é–‹å§‹æ‘¸é­šï¼");
        return;
      }
      const now = new Date();
      const seconds = Math.floor((now - startTime) / 1000);
      totalSeconds += seconds;
      localStorage.setItem('fishSeconds', totalSeconds.toString());
      startTime = null;
      updateStatus();
    }

    function updateStatus() {
      const wage = parseFloat(document.getElementById('wage').value || "0");
      const perSecond = wage / 3600;
      const stolen = (totalSeconds * perSecond).toFixed(2);
      document.getElementById('status').innerText =
        `ä½ ç›®å‰å·²ç¶“å·äº† ${stolen} å…ƒè–ªæ°´ ğŸ˜º`;
    }

    function checkEightPM() {
      const now = new Date();
      if (now.getHours() === 20 && !localStorage.getItem('reported')) {
        const wage = parseFloat(document.getElementById('wage').value || "0");
        const perSecond = wage / 3600;
        const stolen = (totalSeconds * perSecond).toFixed(2);
        alert(`ä»Šå¤©ä½ ç¸½å…±å·äº† ${stolen} å…ƒè–ªæ°´ï¼Œè¾›è‹¦æ‘¸é­šå•¦ ğŸŸğŸ±`);
        document.getElementById('footer').innerText =
          `ä»Šæ—¥ç¸½å·è–ªæ°´ï¼š${stolen} å…ƒ`;
        localStorage.setItem('reported', 'yes');
      }
    }

    setInterval(() => {
      if (startTime) updateStatus();
      checkEightPM();
    }, 1000);

    window.onload = () => {
      updateStatus();
      // æ¯å¤©æ¸…é™¤ç´€éŒ„ï¼ˆéš”å¤©å†å·ï¼‰
      const today = new Date().toDateString();
      if (localStorage.getItem('lastDate') !== today) {
        localStorage.setItem('lastDate', today);
        localStorage.removeItem('fishSeconds');
        localStorage.removeItem('reported');
        totalSeconds = 0;
        updateStatus();
      }
    }
  </script>
</body>
</html>
